# 개발 단계

## Phase 1: 프로젝트 초기 설정

### 1.1 개발 환경 구성
- [ ] Next.js 프로젝트 생성
- [ ] TypeScript 설정
- [ ] Tailwind CSS 설정
- [ ] ESLint/Prettier 설정
- [ ] 폴더 구조 생성

### 1.2 Supabase 설정
- [ ] Supabase 프로젝트 생성
- [ ] 환경 변수 설정
- [ ] Supabase 클라이언트 설정 (client/server)

### 1.3 패키지 설치
- [ ] 필수 패키지 설치
- [ ] 타입 정의 패키지 설치

---

## Phase 2: 데이터베이스 구축

### 2.1 테이블 생성
- [ ] games 테이블 생성
- [ ] prizes 테이블 생성
- [ ] draws 테이블 생성
- [ ] 인덱스 생성

### 2.2 RLS 정책 설정
- [ ] games 테이블 RLS
- [ ] prizes 테이블 RLS
- [ ] draws 테이블 RLS

### 2.3 함수 생성
- [ ] draw_prize 함수 생성 (핵심 뽑기 로직)
- [ ] reset_game 함수 생성
- [ ] 함수 권한 설정

### 2.4 Realtime 설정
- [ ] prizes 테이블 Realtime 활성화
- [ ] draws 테이블 Realtime 활성화

### 2.5 초기 데이터
- [ ] 테스트 게임 생성
- [ ] 100개 뽑기 칸 생성
- [ ] 테스트 경품 배치

---

## Phase 3: 핵심 기능 개발 (프론트엔드)

### 3.1 공통 컴포넌트
- [ ] 레이아웃 컴포넌트
- [ ] 로딩 스피너
- [ ] 에러 바운더리
- [ ] Toast 알림

### 3.2 참가자 입장 화면
- [ ] 이름 입력 폼 컴포넌트
- [ ] 입력 유효성 검사
- [ ] 세션 ID 생성 및 저장
- [ ] 게임 상태 확인 API 연동

### 3.3 뽑기판 화면
- [ ] 10x10 그리드 레이아웃
- [ ] SlotCard 컴포넌트 (개별 칸)
- [ ] 상태별 스타일링 (뽑힘/안뽑힘)
- [ ] 뽑기 클릭 핸들러
- [ ] 뽑기 API 연동

### 3.4 결과 모달
- [ ] 모달 컴포넌트
- [ ] 경품/꽝 분기 처리
- [ ] 축하 애니메이션 (경품 당첨 시)

---

## Phase 4: 실시간 기능 구현

### 4.1 Realtime 구독
- [ ] useRealtime 훅 생성
- [ ] prizes 테이블 변경 구독
- [ ] draws 테이블 변경 구독

### 4.2 상태 동기화
- [ ] 실시간 업데이트 반영
- [ ] 낙관적 업데이트 처리
- [ ] 연결 상태 표시

### 4.3 동시성 처리
- [ ] 뽑기 충돌 시 에러 핸들링
- [ ] 재시도 로직
- [ ] 사용자 피드백

---

## Phase 5: 관리자 기능

### 5.1 관리자 대시보드
- [ ] 관리자 인증 (간단한 비밀번호 또는 Supabase Auth)
- [ ] 대시보드 레이아웃

### 5.2 경품 관리
- [ ] 경품 목록 조회
- [ ] 개별 경품 수정
- [ ] 일괄 경품 설정 (CSV 업로드)
- [ ] 랜덤 배치 기능

### 5.3 게임 제어
- [ ] 게임 상태 변경 (대기/진행/종료)
- [ ] 게임 리셋 기능
- [ ] QR 코드 생성

### 5.4 모니터링
- [ ] 실시간 참여 현황
- [ ] 뽑기 결과 목록
- [ ] 통계 표시 (남은 경품, 참여자 수 등)

### 5.5 결과 내보내기
- [ ] CSV 다운로드
- [ ] 엑셀 다운로드

---

## Phase 6: UI/UX 개선

### 6.1 애니메이션
- [ ] 뽑기 카드 플립 애니메이션
- [ ] 뽑힌 칸 표시 애니메이션
- [ ] 페이지 전환 애니메이션

### 6.2 반응형 디자인
- [ ] 모바일 최적화
- [ ] 태블릿 대응
- [ ] 데스크톱 대응

### 6.3 접근성
- [ ] 키보드 네비게이션
- [ ] 스크린 리더 지원
- [ ] 색상 대비 확인

### 6.4 사운드 효과 (선택)
- [ ] 뽑기 사운드
- [ ] 당첨 사운드

---

## Phase 7: 테스트 및 최적화

### 7.1 기능 테스트
- [ ] 뽑기 플로우 테스트
- [ ] 동시성 테스트 (여러 탭에서 동시 뽑기)
- [ ] 실시간 동기화 테스트

### 7.2 성능 최적화
- [ ] 이미지 최적화
- [ ] 번들 사이즈 최적화
- [ ] Lighthouse 점수 확인

### 7.3 에러 핸들링
- [ ] 네트워크 오류 처리
- [ ] 예외 상황 테스트

---

## Phase 8: 배포

### 8.1 Vercel 배포
- [ ] Vercel 프로젝트 연결
- [ ] 환경 변수 설정
- [ ] 도메인 설정 (선택)

### 8.2 Supabase 프로덕션
- [ ] 프로덕션 환경 확인
- [ ] RLS 정책 최종 검토
- [ ] 백업 설정

### 8.3 QR 코드 생성
- [ ] 배포 URL로 QR 코드 생성
- [ ] 테스트

---

## Phase 9: 운영 준비

### 9.1 최종 점검
- [ ] 실제 경품 데이터 입력
- [ ] 게임 리셋
- [ ] 관리자 접속 테스트

### 9.2 리허설
- [ ] 소규모 테스트 진행
- [ ] 문제점 수정

### 9.3 당일 운영
- [ ] 게임 시작 (active 상태로 변경)
- [ ] 실시간 모니터링
- [ ] 게임 종료 (ended 상태로 변경)

---

## 체크리스트 요약

| Phase | 항목 수 | 예상 난이도 |
|-------|---------|-------------|
| Phase 1 | 8 | 낮음 |
| Phase 2 | 12 | 중간 |
| Phase 3 | 15 | 높음 |
| Phase 4 | 8 | 높음 |
| Phase 5 | 14 | 중간 |
| Phase 6 | 10 | 중간 |
| Phase 7 | 8 | 중간 |
| Phase 8 | 7 | 낮음 |
| Phase 9 | 6 | 낮음 |

**핵심 기능 우선순위:**
1. 뽑기판 화면 + 뽑기 기능 (Phase 3)
2. 실시간 동기화 (Phase 4)
3. 데이터베이스 (Phase 2)
4. 관리자 기능 (Phase 5)
